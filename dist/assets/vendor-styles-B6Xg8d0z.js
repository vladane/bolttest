import{C as ma,e as ha,c as da,k as V,a as ea,b as ga,d as Sa,f as X,g as Ia,h as Oa,j as pa,S as Aa,l as ba,P as Ca,n as xa}from"./vendor-other-CPcG8nbB.js";var ya=0;function sa(){return ya++}var ia={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},g="transform-origin";function Pa(a,i,r){var s=X({},a.shape);X(s,i),a.buildPath(r,s);var n=new Aa;return n.reset(ba(a)),r.rebuildPath(n,1),n.generateStr(),n.getStr()}function Ta(a,i){var r=i.originX,s=i.originY;(r||s)&&(a[g]=r+"px "+s+"px")}var Na={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function va(a,i){var r=i.zrId+"-ani-"+i.cssAnimIdx++;return i.cssAnims[r]=a,r}function qa(a,i,r){var s=a.shape.paths,n={},t,u;if(ha(s,function(c){var o=da(r.zrId);o.animation=!0,ka(c,{},o,!0);var l=o.cssAnims,h=o.cssNodes,p=V(l),A=p.length;if(A){u=p[A-1];var d=l[u];for(var S in d){var Y=d[S];n[S]=n[S]||{d:""},n[S].d+=Y.d||""}for(var y in h){var b=h[y].animation;b.indexOf(u)>=0&&(t=b)}}}),!!t){i.d=!1;var m=va(n,r);return t.replace(u,m)}}function na(a){return ea(a)?ia[a]?"cubic-bezier("+ia[a]+")":ga(a)?a:"":""}function ka(a,i,r,s){var n=a.animators,t=n.length,u=[];if(a instanceof ma){var m=qa(a,i,r);if(m)u.push(m);else if(!t)return}else if(!t)return;for(var c={},o=0;o<t;o++){var l=n[o],h=[l.getMaxTime()/1e3+"s"],p=na(l.getClip().easing),A=l.getDelay();p?h.push(p):h.push("linear"),A&&h.push(A/1e3+"s"),l.getLoop()&&h.push("infinite");var d=h.join(" ");c[d]=c[d]||[d,[]],c[d][1].push(l)}function S(b){var _=b[1],H=_.length,P={},T={},e={},C="animation-timing-function";function B(w,M,$){for(var z=w.getTracks(),la=w.getMaxTime(),G=0;G<z.length;G++){var L=z[G];if(L.needsAnimate()){var W=L.keyframes,E=L.propName;if($&&(E=$(E)),E)for(var R=0;R<W.length;R++){var j=W[R],K=Math.round(j.time/la*100)+"%",aa=na(j.easing),ra=j.rawValue;(ea(ra)||pa(ra))&&(M[K]=M[K]||{},M[K][E]=j.rawValue,aa&&(M[K][C]=aa))}}}}for(var f=0;f<H;f++){var I=_[f],N=I.targetName;N?N==="shape"&&B(I,T):!s&&B(I,P)}for(var v in P){var q={};Sa(q,a),X(q,P[v]);var J=Ia(q),x=P[v][C];e[v]=J?{transform:J}:{},Ta(e[v],q),x&&(e[v][C]=x)}var O,F=!0;for(var v in T){e[v]=e[v]||{};var Q=!O,x=T[v][C];Q&&(O=new Ca);var oa=O.len();O.reset(),e[v].d=Pa(a,T[v],O);var ua=O.len();if(!Q&&oa!==ua){F=!1;break}x&&(e[v][C]=x)}if(!F)for(var v in e)delete e[v].d;if(!s)for(var f=0;f<H;f++){var I=_[f],N=I.targetName;N==="style"&&B(I,e,function(z){return Na[z]})}for(var k=V(e),U=!0,D,f=1;f<k.length;f++){var Z=k[f-1],fa=k[f];if(e[Z][g]!==e[fa][g]){U=!1;break}D=e[Z][g]}if(U&&D){for(var v in e)e[v][g]&&delete e[v][g];i[g]=D}if(Oa(k,function(w){return V(e[w]).length>0}).length){var ca=va(e,r);return ca+" "+b[0]+" both"}}for(var Y in c){var m=S(c[Y]);m&&u.push(m)}if(u.length){var y=r.zrId+"-cls-"+sa();r.cssNodes["."+y]={animation:u.join(",")},i.class=y}}function Ma(a,i,r){if(!a.ignore)if(a.isSilent()){var s={"pointer-events":"none"};ta(s,i,r)}else{var n=a.states.emphasis&&a.states.emphasis.style?a.states.emphasis.style:{},t=n.fill;if(!t){var u=a.style&&a.style.fill,m=a.states.select&&a.states.select.style&&a.states.select.style.fill,c=a.currentStates.indexOf("select")>=0&&m||u;c&&(t=xa(c))}var o=n.lineWidth;if(o){var l=!n.strokeNoScale&&a.transform?a.transform[0]:1;o=o/l}var s={cursor:"pointer"};t&&(s.fill=t),n.stroke&&(s.stroke=n.stroke),o&&(s["stroke-width"]=o),ta(s,i,r)}}function ta(a,i,r,s){var n=JSON.stringify(a),t=r.cssStyleCache[n];t||(t=r.zrId+"-cls-"+sa(),r.cssStyleCache[n]=t,r.cssNodes["."+t+":hover"]=a),i.class=i.class?i.class+" "+t:t}export{Ma as a,ka as c};
